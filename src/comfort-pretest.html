<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="comfort-radio.html">
<link rel="import" href="comfort-radiogroup.html">

<dom-module id="comfort-pretest">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }

      .answers {
        margin: 28px 0;
      }

      .answer {
        margin: 9px 0;
      }

      .radio {
        opacity: 0;
        width: 13px;
        height: 13px;
        cursor: pointer;

        margin-bottom: -1px;
        margin-left: -19px;
        margin-right: 2px;
      }
    </style>

    <section>
      <header>
        <p class="h3 comfort-section-subtitle">Section 1</p>
        <h1 class="comfort-section-title">Pre-test</h1>
      </header>
      <p>Before you begin this module on family caregivers, complete this short pretest to assess your baseline knowledge:</p>
      <ol>
        <template is="dom-repeat" items="{{questions}}" as="question" index-as="questionIndex">
          <li>
            <p>[[question.question]]</p>
            <comfort-radiogroup class="answers" role="radiogroup">
              <template is="dom-if" if="{{ isMultipleChoice( question.type ) }}">
                <template is="dom-repeat" items="{{question.answers}}">
                  <comfort-radio class="answer">
                    <label slot="label">
                      <input
                        id$="question[[questionIndex]]-[[index]]"
                        class="radio"
                        type="radio"
                        name$="question[[questionIndex]]"
                        value="[[index]]"
                      /> [[item.text]]
                    </label>
                  </comfort-radio>
                </template>
              </template>
              <template is="dom-if" if="{{ isOpenEnded( question.type ) }}">
                <textarea
                  id$="question[[questionIndex]]-[[index]]"
                  name$="question[[questionIndex]]"
                ></textarea>
              </template>
            </comfort-radiogroup>
          </li>
        </template>
      </ol>
    </section>
  </template>

  <script>
    "use strict";

    class ComfortPretest extends Polymer.Element {
      static get is() { return 'comfort-pretest'; }
      static get properties() {
        return {
          "questions": {
            "type": Object,
            value() {
              return [
                // 1
                {
                  "question": "Healthcare providers play a critical role in family caregiver communication interactions.",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "True",
                      "correct": false
                    },
                    {
                      "text": "False",
                      "correct": true
                    }
                  ]
                },
                // 2
                {
                  "question": "You have noticed conflicts emerge within the family you are caring for regarding treatment. Which course of action should you take to best help this patient/family?",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "Do not get involved let them work it out amongst themselves because family matters are not your business as a health care provider.",
                      "correct": false
                    },
                    {
                      "text": "Inform the family members of your observation, and suggest they talk amongst themselves to reach a solution.",
                      "correct": false
                    },
                    {
                      "text": "Ask the patient and present family members questions about their family dynamics.",
                      "correct": true
                    },
                    {
                      "text": "Plan a family meeting and surprise the family members in order to avoid conflict prior to the meeting.",
                      "correct": false
                    }
                  ]
                },
                // 3
                {
                  "question": "A family is considered a system because:",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "Members are born into relationships with one another.",
                      "correct": false
                    },
                    {
                      "text": "Family boundaries are agreed upon among members.",
                      "correct": false
                    },
                    {
                      "text": "The family environment may be supportive or unsupportive.",
                      "correct": false
                    },
                    {
                      "text": "These interdependent members influence one another.",
                      "correct": true
                    }
                  ]
                },
                // 4
                {
                  "question": "You are caring for a family led by a carrier family member.  What will you do be most helpful to the carrier family member?",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "Avoid communication with the carrier family member unless approached by them with a specific question regarding the patient.",
                      "correct": false
                    },
                    {
                      "text": "Avoid discussions about death and dying.",
                      "correct": false
                    },
                    {
                      "text": "Discuss patient care directions privately with the carrier family member.",
                      "correct": false
                    },
                    {
                      "text": "Plan an immediate intervention to help carrier family member facilitate patient requests.",
                      "correct": true
                    }
                  ]
                },
                // 5
                {
                  "question": "According to the family member typology, which of the following is true regarding the loner family member?",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "The loner family member is considered the top of the family hierarchy.",
                      "correct": false
                    },
                    {
                      "text": "The loner family member is in the least need of clinician intervention.",
                      "correct": false
                    },
                    {
                      "text": "The loner family member has been surrounded by other family members in terms of support and communication.",
                      "correct": false
                    },
                    {
                      "text": "The loner family member likely suffers from increased stress and burden due to minimal social support and likely holds anger and resentment towards other members of the family.",
                      "correct": true
                    }
                  ]
                },
                // 6
                {
                  "question": "In order to facilitate effective communication for a patient and family, you must first:",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "Assess the family system and family dynamics.",
                      "correct": false
                    },
                    {
                      "text": "Identify specific communication gaps in family dynamics.",
                      "correct": false
                    },
                    {
                      "text": "Examine the context, background, and communication preferences of the family.",
                      "correct": false
                    },
                    {
                      "text": "All of the above",
                      "correct": true
                    }
                  ]
                },
                // 7
                {
                  "question": "According to Family Communication Patterns Theory, family communication is composed of:",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "Conversation and conflict patterns",
                      "correct": false
                    },
                    {
                      "text": "Conformity and caring patterns",
                      "correct": false
                    },
                    {
                      "text": "Conversation and conformity patterns",
                      "correct": true
                    },
                    {
                      "text": "Conversation and caring patterns",
                      "correct": false
                    }
                  ]
                },
                // 8
                {
                  "question": "When working with a “Manager” caregiver, family conflict is likely to occur because:",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "The caregiver is estranged from the rest of the family",
                      "correct": false
                    },
                    {
                      "text": "The caregiver is passive",
                      "correct": false
                    },
                    {
                      "text": "The caregiver is controlling information flow",
                      "correct": true
                    },
                    {
                      "text": "The caregiver suffers low health literacy",
                      "correct": false
                    }
                  ]
                },
                // 9
                {
                  "question": "When working with a “Loner” caregiver, health professional communication should focus on:",
                  "type": "multiple-choice",
                  "answers": [
                    {
                      "text": "Physical and emotional support",
                      "correct": false
                    },
                    {
                      "text": "Provision of care services",
                      "correct": false
                    },
                    {
                      "text": "Access to educational resources",
                      "correct": false
                    },
                    {
                      "text": "All of the above",
                      "correct": true
                    }
                  ]
                },
                // 10
                // Pre-test:
                {
                  "question": "What do you believe will be the most useful communication skill to learn from this module and why?",
                  "type": "open-ended"
                }
              ];
            }
          }
        };
      }

      constructor() {
        super();
      }

      isMultipleChoice( questionType ) {
        return questionType === 'multiple-choice';
      }

      isOpenEnded( questionType ) {
        return questionType === 'open-ended';
      }
    }

    window.customElements.define( ComfortPretest.is, ComfortPretest );
  </script>
</dom-module>
