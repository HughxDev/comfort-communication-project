<script>"use strict";window.Comfort=window.Comfort||{},Comfort.Browser={isIE:!!document.documentMode},Comfort.PseudoForm={_storeAnswers:function(e){function r(e,r,t,o){var s={};return s.question=e.question,s.number=r,s.type=e.type,s.answer=t,s.answer.number=o,s}for(var t,o,s,n,a=Polymer.dom(this.root).querySelector("form"),i=[],c=0;c<a.elements.length;c++)switch(t=a.elements[c],n="//d:item["+parseInt(t.name,10)+"]",o=JSON.search(this.snapshot,n)[0],t.type){case"radio":case"checkbox":t.checked&&(s=JSON.search(this.snapshot,n+"/answers["+t.value+"]")[0],i.push(r(o,t.name,s,t.value)));break;default:i.push(r(o,t.name,{text:t.value,correct:null},"1"))}Comfort.User.answers[document.querySelector("comfort-app").getAttribute("page")]=i,localStorage.setItem("user",JSON.stringify(Comfort.User))}},Comfort.CheckValidity={checkForAnswers:function(){var e,r,t,o=Polymer.dom(this.root).querySelectorAll("textarea[required]"),s=!1;for(t=0;t<o.length;++t)(e=o[t]).value&&""!==e.value.trim()||(e.classList.remove("answer--answered"),s=!0);var n=Polymer.dom(this.root).querySelectorAll('comfort-radiogroup[aria-required="true"]');for(t=0;t<n.length;++t)(r=n[t]).querySelector("comfort-radio[checked]")||(r.classList.remove("answers--answered"),s=!0);return!s},clearRequiredHighlightIfApplicable:function(e){var r=e.target;if("input"===r.nodeName.toLowerCase()){r.classList.add("answer--answered");for(var t=r.parentNode;"comfort-radiogroup"!==t.nodeName.toLowerCase();)t=t.parentNode;t.classList.add("answers--answered")}else r.value&&""!==r.value.trim()&&r.classList.add("answer--answered")},alertIfUnansweredQuestionsRemain:function(e){var r=Polymer.dom(this.root).querySelector("#test"),t=document.querySelector("#missing-answers");r.checkForAnswers()?r._storeAnswers():(e.preventDefault(),r.setAttribute("highlight-required",""),t.open())}},Comfort.InstructorResponses={_restoreLinkBehavior:function(e){window.location.href=this.getAttribute("href")},revealed:!1,_revealResponses:function(e){console.log("_revealResponses");var r=this;if(this.$questions.checkForAnswers()){console.log("answered"),this.$questions.removeAttribute("highlight-required");var t=e.currentTarget,o=function(){r.revealed=!0,r.$questions.setAttribute("revealed","");t.getAttribute("data-href");Polymer.dom(t).textContent=t.getAttribute("after-tap-text"),r.unlisten(t,"tap","_revealResponses")};t.hasAttribute("no-scroll")?o():(Comfort.scrollY(0),window.onscroll=o)}else document.querySelector("#missing-answers").open(),this.$questions.setAttribute("highlight-required","");e.preventDefault()}},Comfort.CorrectIncorrect={_markCorrectIncorrectOnInputChange:function(){var e=this;Polymer.dom(this.root).querySelector("#questions").addEventListener("change",function(r){for(var t=r.target,o=t.name,s=t.value,n="//d:item["+parseInt(o,10)+"]",a=JSON.search(e.snapshot,n+'/answers[correct="true"]')[0],i=(JSON.search(e.snapshot,n+'/answers[correct="false"]')[0],JSON.search(e.snapshot,n+"/answers["+s+"]")[0]),c=t;c&&"comfort-radio"!==c.nodeName.toLowerCase();)c=c.parentNode;var l=!1;i&&!0===i.correct?c.setAttribute("correct",""):(c.setAttribute("incorrect",""),l=!0);for(var u=Array.prototype.slice.call(Polymer.dom(e.root).querySelectorAll('comfort-radio[name="'+o+'"] > label')),d=0;d<u.length;d++)u[d].childNodes[1].disabled=!0,l&&u[d].textContent.trim()===a.text&&setTimeout(function(e){u[e].parentNode.setAttribute("correct","")}.bind(e,d),250)})}};</script>